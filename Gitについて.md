# Gitについて
### Gitとは
Gitとは、ファイルを編集前の状態に戻したり、チームでのファイル編集を同時に行うことを可能にした管理システム。

### 履歴を管理するリポジトリとは
リポジトリとは、ファイルやディレクトリの状態を記録する場所。
リポジトリとは、リモートリポジトリとローカルリポジトリの2種類に分けられる。
- リモートリポジトリ
  - 専用のサーバに配置して複数人で共有するためのリポジトリ
- ローカルリポジトリ
  - ユーザ一人ひとりが利用するために、自分の手元のマシン上に配置するリポジトリ

### 変更を記録するコミットとは
ファイルやディレクトリの追加・変更をリポジトリに記録することをコミットという。
- Tips
  - バグ修正や機能追加などの異なる意味を持つ変更はできるだけ分けてコミットしたほうが良い。

### ワークツリーとインデックスとは
Gitの管理下に置かれた、みんなが実際に作業をしているディレクトリのことをワークツリーと呼ぶ。
そして、リポジトリとワークツリーの間にインデックスというものが存在している。
インデックスを間に挟むことで、ワークツリー内の必要ないファイルを含めずにコミットを行ったり、ファイルの一部の変更だけをインデックスに登録してコミットすることが可能になっている。

---
### git initとは
- リポジトリを新規に作成するコマンド
- リモートリポジトリを作成するためには、git initのオプションを指定する必要がある。
  - https://www.sejuku.net/blog/71268

### git remote add について
リモートリポジトリのアドレスは名前を付けて記録しておくことが出来る。
``` git
$ git remote add <name> <URL>
```

### git clone について
- https://eng-entrance.com/git-clone
---
## 8月3日（火）
### git cloneについて
```git
$ git clone <repository> <directory>
```
- クローンしたリポジトリではpushのパラメータのorigin mainは省略できる。

### git pullについて
``` git
$ git pull <repository> <refspec>...
$ git pull origin main
```
- リモートリポジトリの変更を、ローカルリポジトリ、ステージング、ワーキングツリーに反映させる。

### 手動でマージする方法
- 最後のpullを実行してから次のpushをするまでの間に、他の人がpushをしてリモートリポジトリを更新してしまっていた場合には自分のpushが拒否されてしまう。
- この場合、マージという作業を行ってほかの履歴での変更を取り込むまで自分のpushは拒否される。
  - pushが拒否されたとき、git pullを行い、変更箇所を修正することでpushすることが可能になる。
---
## 8月4日（水）
### ブランチ
- ブランチとは
  - 履歴の流れを分岐して記録していくもの。分岐したブランチはほかのブランチの影響を受けないため、同じリポジトリ内で複数の変更を同時に進めることが出来る。
- 統合ブランチとは
  - リリース版がいつでも作成可能なようにしておくためのブランチ。主にmainブランチを統合ブランチとして使用することが多い。
- トピックブランチとは
  - 機能追加やバグ修正といったある課題に関する作業を行うために作成するブランチ。トピックブランチは安定した統合ブランチから分岐する形で作成し、作業が完了したら統合ブランチに取り込むという使い方をする。

### ブランチの切り替え
作業するブランチを切り替えるには、チェックアウトという操作を行う。チェックアウトを行うと、まず移動先のブランチ内の最後のコミットの内容がワークツリーに展開される。また、チェックアウト後に行ったコミットは、移動後のブランチに対して追加される。
- HEAD
  - 現在使用しているブランチの先頭を表す名前。主にmainの先頭を表している。HEADが移動することで、使用するブランチが変更される。
- Stash
  - ファイルの変更内容を一時的に記録しておく領域。stashを使うことで、ワークツリーとインデックス内でまだコミットされていない変更を一時的に退避させることが出来る。退避させた変更は後から取り出して元のブランチや別のブランチに反映させることが出来る。
### [ブランチの結合](https://www-creators.com/archives/1943)
- merge
  - mergeを使用すると、複数の履歴の流れを合流させることが出来る。
- rebase
  - 変更の起点を移動し、結合を行う。

---

## 8月5日（木）
### A successful Git branching model
- メインブランチ
  - master
    - リリース可能な状態だけを管理する。また、コミットにはタグを使用しリリース番号を記録する。
  - develop(トピックブランチ)
    - 先のリリースに向けた普段の開発で使用するブランチ。主に統合ブランチの役割を担う。
- フィーチャーブランチ
  - 主にトピックブランチの役割を担う。またこのブランチは新機能の加発や、バグ修正を行う際にdevelopブランチから分岐する。フィーチャーブランチでの作業は基本的に共有する必要がないので、リモートでは管理しない。開発が完了したらdevelopブランチにマージすることで公開する。
- リリースブランチ
  - リリースの準備を行うブランチ。なお慣例としてブランチ名の頭にrelease-を付ける。リリースブランチを作ることで、最終的な調整はこのブランチ、更に次のリリースに向けた開発をdevelopブランチ上で進めることが出来る。

### ブランチの作成
```git
$ git branch <branchname>
```

### ブランチの切り替え
```git
$ git checkout <branch>
```

---
## 8月6日(金)
### [fetchについて](https://backlog.com/ja/git-tutorial/stepup/15/)
- 単にリモートリポジトリの内容を確認したいだけの時に使用する。
- 実行すると、リモートリポジトリの最新の履歴の取得だけを行うことが出来る。取得したコミットは名前のないブランチとして取り込まれ、「FETCH_HEAD」という名前でチェックアウトすることが出来る。